#!/usr/bin/env bash
#
# Run all dotfiles installers.

set -euo pipefail

cd "$(dirname "$0")/.."

# find the installers and run them iteratively
if ! find . -name install.sh -print0 | while IFS= read -r -d '' installer; do
  echo "Running installer: $installer"
  if ! bash "$installer"; then
    echo "Failed to run installer: $installer"
    exit 1
  fi
done; then
  echo "Some installers failed"
  exit 1
fi

echo "All installers completed successfully"
